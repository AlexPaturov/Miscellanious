## techdeb003 — Унифицировать формат даты/времени в query и валидацию (ISO + Invariant)

**Контекст**
Сейчас часть query-параметров дат/времени формируется клиентом вручную, часть приходит как `DateTime` через model binding. В API настроена Culture в Program.cs (в первую очередь для отображения/логов), а ручная валидация дат/времени в контроллерах заготовлена, но не включена.

**Проблема**
Нет единого стандарта для сериализации/парсинга дат/времени в HTTP (query). Это повышает риск несовместимости между клиентами, окружениями и будущими изменениями валидации.

**Цель**
Зафиксировать и внедрить единый контракт:
- Query date: `yyyy-MM-dd`
- Query time: `HH:mm:ss` (если используется)
- DateTime (если нужен единый параметр): ISO 8601 `yyyy-MM-ddTHH:mm:ss` (+ при необходимости timezone)
- Парсинг/валидация — строго `CultureInfo.InvariantCulture`, без зависимости от региональных настроек сервера.

**Предлагаемый подход**
1) Документировать контракт форматов в API (summary/Swagger).
2) На клиенте формировать query только в ISO-формате (уже частично сделано).
3) В API:
    - либо оставить `DateTime` в сигнатурах и гарантировать ISO на входе (и тестами закрепить),
    - либо перейти на `string` + явный парсинг Invariant (если нужна 100% управляемость ошибок/сообщений).
4) Валидацию перенести на FluentValidation (или единый слой), чтобы ошибки были консистентные.

**Объём / затрагиваемые места**
- Клиентские UrlBuilder/ApiRouters.
- Контроллеры с `[FromQuery] DateTime ...` и любые места парсинга строковых дат/времени.
- Документация (summary/Swagger) + тесты на входные форматы.

**Риски**
- Любое изменение сигнатур или формата может затронуть 2 системы и существующих клиентов.
- Требуется аккуратно вводить через совместимость или параллельную поддержку.

**Acceptance criteria**
- Формат query параметров дат/времени формально описан и покрыт тестами.
- Входные форматы не зависят от Culture сервера.
- Ошибки валидации дат/времени консистентны (400 + понятное тело).

**Когда делать**
При крупном контрактном рефакторинге / когда будет окно на согласованные изменения в обеих системах.
